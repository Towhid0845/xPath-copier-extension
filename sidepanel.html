<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>jobdesk Spider</title>
    <link rel="stylesheet" type="text/css" href="sidepanel.css">
</head>

<body>
    <div class="container">
        <!-- Authentication UI -->
        <div id="auth-ui">
            <div class="auth-container">
                <h2 class="auth-title">üîê Authentication Required</h2>
                <p class="sub-title">Please Authenticate to use the extension</p>

                <!-- Login Form -->
                <div id="login-form">
                    <div class="auth-form">
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" placeholder="Enter your password">
                        </div>
                        <button class="btn btn-primary" id="login-btn">Sign In</button>
                    </div>
                    <div class="auth-links">
                        <a class="auth-link" id="show-forgot">Forgot Password?</a>
                    </div>
                </div>

                <!-- Forgot Password Form -->
                <div id="forgot-form" style="display: none;">
                    <div class="auth-form">
                        <div class="form-group">
                            <label for="reset-email">Email Address</label>
                            <input type="email" id="reset-email" placeholder="Enter your email">
                        </div>
                        <button class="btn btn-primary" id="forgot-btn">Send Reset Link</button>
                    </div>
                    <div class="auth-links">
                        <a class="auth-link" id="show-login">Back to Sign In</a>
                    </div>
                </div>

                <!-- 2FA Verification -->
                <div id="verify-form" style="display: none;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <p>Enter the 6-digit code sent to your email</p>
                    </div>
                    <div id="otp-container">
                        <input type="text" maxlength="1" class="otp-input">
                        <input type="text" maxlength="1" class="otp-input">
                        <input type="text" maxlength="1" class="otp-input">
                        <input type="text" maxlength="1" class="otp-input">
                        <input type="text" maxlength="1" class="otp-input">
                        <input type="text" maxlength="1" class="otp-input">
                    </div>
                    <button class="btn btn-primary" id="verify-btn" style="width: 100%;">Verify Code</button>
                    <div class="auth-links">
                        <a class="auth-link" id="resend-btn">Resend Code</a> ‚Ä¢
                        <a class="auth-link" id="show-login">Back to Sign In</a>
                    </div>
                </div>

                <!-- Success Screen -->
                <div id="success-form" style="display: none;">
                    <div class="success-container">
                        <div class="success-icon">‚úÖ</div>
                        <h2>Authentication Successful!</h3>
                            <p class="sub-title">You can now use jobdesk Spider features</p>
                            <button class="btn btn-primary" id="success-btn">Get Started</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- List of websites without spider -->
        <div id="websites-ui" style="display: none;">
            <div class="screen-container">
                <div class="screen-header">
                    <h2 class="screen-title">Select a website to create a spider</h2>
                </div>

                <!-- Filter Controls -->
                <div class="screen-nav filter-controls">
                    <div class="filter-left">
                        <!-- <div class="search-box">
                            <input type="text" id="website-search" placeholder="Search websites...">
                            <span class="search-icon">üîç</span>
                        </div> -->
                        <button class="btn btn-custom-xpath" id="custom-xpath-btn">
                            Custom Spider
                        </button>
                    </div>
                    <div class="filter-right">
                        <div class="filter-buttons">
                            <button class="filter-btn" data-filter="no-spider" data-tooltip="No Spider">
                                üö´
                            </button>
                            <button class="filter-btn" data-filter="broken-spider" data-tooltip="Broken Spider">
                                ü™≤
                            </button>
                            <button class="filter-btn active" data-filter="all" data-tooltip="All Spider">
                                ‚ú®
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Websites List -->
                <div class="screen-body">
                    <table class="websites-list-container">
                        <thead class="list-header">
                            <tr>
                                <th class="header-item" style="min-width: 50px; padding-left: 25px;">ISO2</th>
                                <th class="header-item" style="min-width: 200px;">Company Name</th>
                                <th class="header-item" style="min-width: 150px; padding-right: 25px">Domain</th>
                            </tr>
                        </thead>
                        <tbody class="websites-list" id="websites-list">
                            <!-- Websites will be populated here dynamically -->
                            <tr class="empty-state">
                                <th>
                                    <span class="empty-icon">üì≠</span>
                                    <p>No websites found.</p>
                                </th>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Statistics -->
                <!-- <div class="websites-stats">
                    <div class="stat-item">
                        <span class="stat-number" id="total-websites">0</span>
                        <span class="stat-label">Total Websites</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="no-spider-count">0</span>
                        <span class="stat-label">No Spider</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="broken-spider-count">0</span>
                        <span class="stat-label">Broken Spider</span>
                    </div>
                </div> -->
            </div>
        </div>


        <!-- XPath Form UI -->
        <div id="xpath-ui">
            <div class="screen-container">
                <div class="screen-header">
                    <h2 class="screen-title">Get the XPath to create a spider</h2>
                </div>
                <div class="screen-nav">
                    <button id="back-to-list-btn" class="btn back-button"
                        style="font-size: 20px; padding: 0 12px 3px; height: 28px;">
                        ‚Üê
                    </button>
                    <button class="btn btn-warning" id="clear-btn">Clear All</button>
                </div>
                <div class="screen-body" style="padding: 10px 10px 15px 15px;">

                    <div class="field-group">
                        <label for="xpath-start-url">Start URL</label>
                        <input type="text" id="xpath-start-url">
                    </div>
                    <div class="field-group">
                        <label for="xpath-source-key">Source Key</label>
                        <input type="text" id="xpath-source-key">
                    </div>
                    <div class="field-group">
                        <label for="xpath-company-name">Company Name</label>
                        <input type="text" id="xpath-company-name">
                    </div>
                    <div class="field-group">
                        <label for="xpath-company-logo">Company Logo</label>
                        <input type="text" id="xpath-company-logo">
                    </div>
                    <div class="field-group">
                        <label for="xpath-source-country">Source Country</label>
                        <input type="text" id="xpath-source-country">
                    </div>
                    <div class="field-group">
                        <label for="xpath-lang-code">Lang Code</label>
                        <input type="text" id="xpath-lang-code">
                    </div>
                    <div class="field-group">
                        <label for="xpath-job-link">Job Link</label>
                        <input type="text" id="xpath-job-link">
                    </div>
                    <div class="field-group">
                        <label for="xpath-job-title">Job Title</label>
                        <input type="text" id="xpath-job-title">
                    </div>
                    <div class="field-group">
                        <label for="xpath-job-location">Job Location</label>
                        <input type="text" id="xpath-job-location">
                    </div>
                    <div class="field-group">
                        <label for="xpath-job-content">Job Content</label>
                        <input type="text" id="xpath-job-content">
                    </div>
                    <div class="field-group">
                        <label>Playwright</label>
                        <div style="display: flex; gap: 15px; margin-top: 5px;">
                            <label style="display: flex; gap: 10px; align-items: center;"><input type="radio"
                                    name="playwright" value="true"> Yes</label>
                            <label style="display: flex; gap: 10px; align-items: center;"><input type="radio"
                                    name="playwright" value="false" checked> No</label>
                        </div>
                    </div>
                    <div id="playwright-selector-container" style="display: none; margin-bottom: 15px;">
                        <div class="field-group">
                            <label for="xpath-playwright-selector">Playwright Selector</label>
                            <input type="text" id="xpath-playwright-selector" placeholder="Enter playwright selector">
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" id="generate-btn">Generate</button>
                        <button class="btn btn-secondary" id="edit-btn" style="display: none;">Edit Code</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Editor UI -->
        <div id="editor-ui" style="display: none;">
            <div class="screen-container">
                <div class="screen-header">
                    <h2 class="screen-title">Generated Spider Code</h2>
                </div>
                <div class="screen-nav">
                    <button id="back-to-form-btn" class="btn back-button"
                        style="font-size: 20px; padding: 0 12px 3px; height: 28px;">
                        ‚Üê
                    </button>
                    <button id="tab-spider" class="tab-button active"
                        style="background: #4caf50; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-left: auto;">
                        Spider Code
                    </button>
                    <button id="tab-json" class="tab-button"
                        style="background: #666; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                        JSON Config
                    </button>
                </div>
                <div class="screen-body" style="padding: 10px 0px 15px 10px;">
                    <div id="python-editor" class="editor-tab active"></div>
                    <div id="json-editor" class="editor-tab" style="display: none;"></div>

                    <div class="action-buttons">
                        <button id="copy-code-btn" class="btn btn-copy">
                            Copy Code
                        </button>
                        <button id="download-code-btn" class="btn btn-download">
                            Download
                        </button>
                        <button class="btn btn-success" id="publish-btn">Publish</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Publish Modal -->
        <!-- Confirmation Modal -->
        <div id="publish-confirm-modal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
            <div
                style="background: white; padding: 30px; border-radius: 12px; max-width: 400px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                <div style="font-size: 48px; margin-bottom: 15px;">‚ö†Ô∏è</div>
                <h3 style="margin: 0 0 10px 0; color: #333;">Confirm Publish</h3>
                <p style="color: #666; margin: 0 0 20px 0; line-height: 1.5; font-size: 16px;">
                    Do you really want to publish this spider?
                </p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button id="confirm-publish-cancel" class="btn btn-secondary" style="padding: 10px 20px;">
                        Cancel
                    </button>
                    <button id="confirm-publish-ok" class="btn btn-warning" style="padding: 10px 20px;">
                        Yes, Publish
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="editor/ace.js"></script>
    <script src="editor/mode-python.js"></script>
    <script src="editor/mode-json.js"></script>
    <script src="editor/theme-monokai.js"></script>
    <script src="editor/ext-language_tools.js"></script>
    <script src="sidepanel.js"></script>
</body>

</html>